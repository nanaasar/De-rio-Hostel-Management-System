import{c as te,u as se,j as t,H as le,L as ae,F as ee}from"./app-CoZp1nhq.js";import{A as ie}from"./app-layout-B3V1OsAx.js";import{d as re}from"./index-Be7Cb4cj.js";/* empty css            */import"./app-logo-icon-D9Q4Glgl.js";import"./index-CNDAIC5S.js";import"./index-5FeaamSm.js";const oe=[{title:"Dashboard",href:re().url}];function be(){const e=te.c(83),{bookings:c,roomsCount:C}=se().props;let m,l,a,i,o,n,d,x,$;if(e[0]!==c||e[1]!==C){l=c===void 0?{data:[]}:c;const r=C===void 0?null:C;i=l.data??[],a=l.current_page??1,o=l.last_page??1,d=l.prev_page_url,n=l.next_page_url;let s;e[11]===Symbol.for("react.memo_cache_sentinel")?(s=[{id:"single",name:"Single Room",price:1200,capacity:1,description:"Cozy single with shared bathroom."},{id:"double",name:"Double Room",price:2e3,capacity:2,description:"Shared double room for two."},{id:"dorm",name:"Dormitory",price:600,capacity:6,description:"Bunk-style beds in a shared dorm."}],e[11]=s):s=e[11];const Y=s;x=typeof r=="number"&&r>=0?r:Y.length,m=l.total??l.data?.length??0,$=new Set((i??[]).map(me)),e[0]=c,e[1]=C,e[2]=m,e[3]=l,e[4]=a,e[5]=i,e[6]=o,e[7]=n,e[8]=d,e[9]=x,e[10]=$}else m=e[2],l=e[3],a=e[4],i=e[5],o=e[6],n=e[7],d=e[8],x=e[9],$=e[10];const X=$.size,Z=ce;let T;e[12]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(le,{title:"Admin Dashboard"}),e[12]=T):T=e[12];let V;e[13]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx("div",{className:"text-sm text-muted-foreground",children:"Rooms"}),e[13]=V):V=e[13];let p;e[14]!==x?(p=t.jsx("div",{className:"mt-2 text-2xl font-bold",children:x}),e[14]=x,e[15]=p):p=e[15];let F;e[16]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Total room types available"}),e[16]=F):F=e[16];let h;e[17]!==p?(h=t.jsxs("div",{className:"rounded-lg border p-4",children:[V,p,F]}),e[17]=p,e[18]=h):h=e[18];let L;e[19]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("div",{className:"text-sm text-muted-foreground",children:"Applications"}),e[19]=L):L=e[19];let u;e[20]!==m?(u=t.jsx("div",{className:"mt-2 text-2xl font-bold",children:m}),e[20]=m,e[21]=u):u=e[21];let z;e[22]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Total booking applications"}),e[22]=z):z=e[22];let f;e[23]!==u?(f=t.jsxs("div",{className:"rounded-lg border p-4",children:[L,u,z]}),e[23]=u,e[24]=f):f=e[24];let B;e[25]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("div",{className:"text-sm text-muted-foreground",children:"Applicants"}),e[25]=B):B=e[25];let j;e[26]!==X?(j=t.jsx("div",{className:"mt-2 text-2xl font-bold",children:X}),e[26]=X,e[27]=j):j=e[27];let E;e[28]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Unique applicants"}),e[28]=E):E=e[28];let g;e[29]!==j?(g=t.jsxs("div",{className:"rounded-lg border p-4",children:[B,j,E]}),e[29]=j,e[30]=g):g=e[30];let b;e[31]!==f||e[32]!==g||e[33]!==h?(b=t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h,f,g]}),e[31]=f,e[32]=g,e[33]=h,e[34]=b):b=e[34];let H,q;e[35]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("h2",{className:"text-xl font-semibold",children:"Bookings"}),q=t.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage student bookings — approve and review submissions."}),e[35]=H,e[36]=q):(H=e[35],q=e[36]);let M;e[37]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx("label",{className:"block text-sm",children:"Status"}),e[37]=M):M=e[37];let U,G;e[38]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsxs("div",{children:[M,t.jsxs("select",{name:"status",defaultValue:"",className:"mt-1 rounded-md border px-2 py-1 text-sm",children:[t.jsx("option",{value:"",children:"Any"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"approved",children:"Approved"})]})]}),G=t.jsx("label",{className:"block text-sm",children:"Room"}),e[38]=U,e[39]=G):(U=e[38],G=e[39]);let I,J,K;e[40]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsxs("div",{children:[G,t.jsxs("select",{name:"room_type",defaultValue:"",className:"mt-1 rounded-md border px-2 py-1 text-sm",children:[t.jsx("option",{value:"",children:"Any"}),t.jsx("option",{value:"single",children:"Single"}),t.jsx("option",{value:"double",children:"Double"}),t.jsx("option",{value:"dorm",children:"Dorm"})]})]}),J=t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm",children:"Search"}),t.jsx("input",{name:"search",type:"search",className:"mt-1 rounded-md border px-2 py-1 text-sm"})]}),K=t.jsx("label",{className:"block text-sm",children:"Per page"}),e[40]=I,e[41]=J,e[42]=K):(I=e[40],J=e[41],K=e[42]);let O;e[43]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsxs("form",{method:"get",action:"",className:"flex flex-wrap items-end gap-2",children:[U,I,J,t.jsxs("div",{children:[K,t.jsxs("select",{name:"per_page",defaultValue:10,className:"mt-1 rounded-md border px-2 py-1 text-sm",children:[t.jsx("option",{value:5,children:"5"}),t.jsx("option",{value:10,children:"10"}),t.jsx("option",{value:25,children:"25"})]})]}),t.jsx("div",{children:t.jsx("button",{type:"submit",className:"rounded-md bg-primary px-3 py-2 text-sm text-white",children:"Filter"})})]}),e[43]=O):O=e[43];let Q;e[44]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("thead",{children:t.jsxs("tr",{className:"text-left text-sm text-muted-foreground",children:[t.jsx("th",{className:"px-3 py-2",children:"#"}),t.jsx("th",{className:"px-3 py-2",children:"Student"}),t.jsx("th",{className:"px-3 py-2",children:"Room"}),t.jsx("th",{className:"px-3 py-2",children:"Dates"}),t.jsx("th",{className:"px-3 py-2",children:"Status"}),t.jsx("th",{className:"px-3 py-2",children:"Actions"})]})}),e[44]=Q):Q=e[44];let y;e[45]!==i.length?(y=i.length===0&&t.jsx("tr",{children:t.jsx("td",{className:"px-3 py-4",colSpan:6,children:"No bookings yet"})}),e[45]=i.length,e[46]=y):y=e[46];let N;if(e[47]!==l||e[48]!==a||e[49]!==i){let r;e[51]!==l||e[52]!==a||e[53]!==i.length?(r=(s,Y)=>t.jsxs("tr",{className:"border-t",children:[t.jsx("td",{className:"px-3 py-3",children:(a-1)*(l.per_page??i.length)+Y+1}),t.jsxs("td",{className:"px-3 py-3",children:[t.jsx("div",{className:"font-medium",children:s.name}),t.jsx("div",{className:"text-sm text-muted-foreground",children:s.phone})]}),t.jsx("td",{className:"px-3 py-3",children:s.room_type}),t.jsxs("td",{className:"px-3 py-3",children:[Z(s.check_in)," → ",Z(s.check_out)]}),t.jsxs("td",{className:"px-3 py-3",children:[s.status,s.admin_signed?" • Signed":""]}),t.jsx("td",{className:"px-3 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ae,{href:`/bookings/${s.id}`,className:"text-sm underline",children:"View"}),!s.admin_signed&&t.jsx(ee,{method:"post",action:`/bookings/${s.id}/approve`,encType:"multipart/form-data",children:t.jsx("button",{type:"submit",className:"rounded-md bg-primary px-3 py-1 text-sm text-white",children:"Approve"})}),t.jsx(ee,{method:"delete",action:`/bookings/${s.id}`,onSubmit:de,children:t.jsx("button",{type:"submit",className:"rounded-md border px-3 py-1 text-sm text-red-600",children:"Remove"})})]})})]},s.id),e[51]=l,e[52]=a,e[53]=i.length,e[54]=r):r=e[54],N=i.map(r),e[47]=l,e[48]=a,e[49]=i,e[50]=N}else N=e[50];let v;e[55]!==y||e[56]!==N?(v=t.jsx("div",{className:"mt-4 overflow-x-auto",children:t.jsxs("table",{className:"w-full table-auto",children:[Q,t.jsxs("tbody",{children:[y,N]})]})}),e[55]=y,e[56]=N,e[57]=v):v=e[57];let _;e[58]!==a||e[59]!==o?(_=t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",a," of ",o]}),e[58]=a,e[59]=o,e[60]=_):_=e[60];let S;e[61]!==d?(S=d&&t.jsx("a",{href:d,className:"rounded-md border px-3 py-1 text-sm",children:"Previous"}),e[61]=d,e[62]=S):S=e[62];let k;e[63]!==o?(k=Array.from({length:o},ne),e[63]=o,e[64]=k):k=e[64];let w;e[65]!==a||e[66]!==k?(w=t.jsx("div",{className:"flex gap-1",children:k.map(r=>t.jsx("a",{href:`?page=${r}`,className:`rounded-md border px-3 py-1 text-sm ${r===a?"bg-primary text-white":""}`,children:r},r))}),e[65]=a,e[66]=k,e[67]=w):w=e[67];let A;e[68]!==n?(A=n&&t.jsx("a",{href:n,className:"rounded-md border px-3 py-1 text-sm",children:"Next"}),e[68]=n,e[69]=A):A=e[69];let D;e[70]!==S||e[71]!==w||e[72]!==A?(D=t.jsxs("div",{className:"flex gap-2 items-center",children:[S,w,A]}),e[70]=S,e[71]=w,e[72]=A,e[73]=D):D=e[73];let P;e[74]!==_||e[75]!==D?(P=t.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[_,D]}),e[74]=_,e[75]=D,e[76]=P):P=e[76];let R;e[77]!==v||e[78]!==P?(R=t.jsxs("div",{className:"rounded-xl border p-4",children:[H,q,t.jsxs("div",{className:"mt-4",children:[O,v,P]})]}),e[77]=v,e[78]=P,e[79]=R):R=e[79];let W;return e[80]!==b||e[81]!==R?(W=t.jsxs(ie,{breadcrumbs:oe,children:[T,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[b,R]})]}),e[80]=b,e[81]=R,e[82]=W):W=e[82],W}function ne(e,c){return c+1}function de(e){confirm("Are you sure you want to remove this booking? This action cannot be undone.")||e.preventDefault()}function ce(e){return e?String(e).split("T")[0].split(" ")[0]:""}function me(e){return e.email??e.phone??e.name}export{be as default};
