import{c as y,u as v,r as k,j as e,H as w,a as N,F as S}from"./app-CoZp1nhq.js";import{A as _}from"./app-layout-B3V1OsAx.js";/* empty css            */import"./app-logo-icon-D9Q4Glgl.js";import"./index-CNDAIC5S.js";import"./index-5FeaamSm.js";import"./index-Be7Cb4cj.js";const D=[{title:"Rooms",href:"/rooms"}];function P(){const s=y.c(17),{rooms:a}=v().props;let d;s[0]!==a?(d=a===void 0?[]:a,s[0]=a,s[1]=d):d=s[1];const j=d,[r,h]=k.useState(null);let i;s[2]===Symbol.for("react.memo_cache_sentinel")?(i=e.jsx(w,{title:"Room Management"}),s[2]=i):i=s[2];let o,c;s[3]===Symbol.for("react.memo_cache_sentinel")?(o=e.jsx("h2",{className:"text-xl font-semibold",children:"Manage rooms"}),c=e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add or remove room types available for booking."}),s[3]=o,s[4]=c):(o=s[3],c=s[4]);let n;s[5]===Symbol.for("react.memo_cache_sentinel")?(n=e.jsx("div",{className:"font-medium",children:"Existing rooms"}),s[5]=n):n=s[5];let l;if(s[6]!==r||s[7]!==j){let b;s[9]!==r?(b=t=>e.jsx("div",{className:"rounded-md border px-3 py-2",children:r===t.id?e.jsxs("form",{className:"space-y-2",onSubmit:f=>{f.preventDefault();const g=new FormData(f.currentTarget);N.post(`/rooms/${t.id}`,g,{forceFormData:!0,onFinish:()=>h(null),preserveState:!1})},children:[e.jsx("input",{type:"hidden",name:"_method",value:"PATCH"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-muted-foreground",children:"Name"}),e.jsx("input",{name:"name",defaultValue:t.name,className:"mt-0.5 block w-full rounded-md border px-2 py-1 text-sm",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-muted-foreground",children:"Price"}),e.jsx("input",{name:"price",type:"number",defaultValue:t.price,className:"mt-0.5 block w-full rounded-md border px-2 py-1 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-muted-foreground",children:"Capacity"}),e.jsx("input",{name:"capacity",type:"number",defaultValue:t.capacity,className:"mt-0.5 block w-full rounded-md border px-2 py-1 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-muted-foreground",children:"Description"}),e.jsx("input",{name:"description",defaultValue:t.description||"",className:"mt-0.5 block w-full rounded-md border px-2 py-1 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-muted-foreground",children:"Image"}),t.image&&e.jsx("img",{src:`/storage/${t.image}`,alt:t.name,className:"mt-1 mb-2 h-20 w-32 rounded-md border object-cover"}),e.jsx("input",{name:"image",type:"file",accept:"image/*",className:"mt-0.5 block w-full text-sm"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"submit",className:"rounded-md bg-primary px-3 py-1 text-sm text-white",children:"Save"}),e.jsx("button",{type:"button",onClick:()=>h(null),className:"rounded-md border px-3 py-1 text-sm",children:"Cancel"})]})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[t.image&&e.jsx("img",{src:`/storage/${t.image}`,alt:t.name,className:"h-16 w-24 rounded-md border object-cover"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.capacity," · GH₵",t.price]}),t.description&&e.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:t.description})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>h(t.id),className:"rounded-md border px-3 py-1 text-sm",children:"Edit"}),e.jsx(S,{method:"delete",action:`/rooms/${t.id}`,onSubmit:f=>{confirm('Remove room "'+t.name+'"?')||f.preventDefault()},children:e.jsx("button",{type:"submit",className:"rounded-md border px-3 py-1 text-sm text-red-600",children:"Delete"})})]})]})},t.id),s[9]=r,s[10]=b):b=s[10],l=j.map(b),s[6]=r,s[7]=j,s[8]=l}else l=s[8];let m;s[11]!==l?(m=e.jsxs("div",{className:"rounded-md border p-4",children:[n,e.jsx("div",{className:"mt-3 space-y-2",children:l})]}),s[11]=l,s[12]=m):m=s[12];let x;s[13]===Symbol.for("react.memo_cache_sentinel")?(x=e.jsx("div",{className:"font-medium",children:"Add room"}),s[13]=x):x=s[13];let u;s[14]===Symbol.for("react.memo_cache_sentinel")?(u=e.jsxs("div",{className:"rounded-md border p-4",children:[x,e.jsxs("form",{className:"mt-3 grid gap-2",onSubmit:F,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Name"}),e.jsx("input",{name:"name",className:"mt-1 block w-full rounded-md border px-2 py-1 text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Price"}),e.jsx("input",{name:"price",type:"number",className:"mt-1 block w-full rounded-md border px-2 py-1 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Capacity"}),e.jsx("input",{name:"capacity",type:"number",className:"mt-1 block w-full rounded-md border px-2 py-1 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Description"}),e.jsx("input",{name:"description",className:"mt-1 block w-full rounded-md border px-2 py-1 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Image"}),e.jsx("input",{name:"image",type:"file",accept:"image/*",className:"mt-1 block w-full text-sm"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"rounded-md bg-primary px-3 py-2 text-sm text-white",children:"Add room"})})]})]}),s[14]=u):u=s[14];let p;return s[15]!==m?(p=e.jsxs(_,{breadcrumbs:D,children:[i,e.jsxs("div",{className:"p-6",children:[o,c,e.jsxs("div",{className:"mt-4 mb-6 grid gap-4 md:grid-cols-2",children:[m,u]})]})]}),s[15]=m,s[16]=p):p=s[16],p}function F(s){s.preventDefault();const a=new FormData(s.currentTarget);N.post("/rooms",a,{forceFormData:!0,onSuccess:()=>s.currentTarget.reset(),preserveState:!1})}export{P as default};
