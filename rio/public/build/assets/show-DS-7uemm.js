import{c as R,u as E,j as s,F,H}from"./app-BCFUcYIQ.js";import{A as P}from"./app-layout-yPhzw2dD.js";import{d as T}from"./index-Be7Cb4cj.js";/* empty css            */import"./app-logo-icon-Bj1qFfLf.js";import"./index-d_RSF-17.js";import"./index-ZYqHKkPb.js";const G=[{title:"Dashboard",href:T().url}];function M(){const e=R.c(57),{booking:t}=E().props,D=L,B=`Booking #${t.id}`;let i;e[0]!==B?(i=s.jsx(H,{title:B}),e[0]=B,e[1]=i):i=e[1];let j;e[2]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx("h2",{className:"text-xl font-semibold",children:"Booking details"}),e[2]=j):j=e[2];let v;e[3]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx("div",{className:"font-medium",children:"Student"}),e[3]=v):v=e[3];let a;e[4]!==t.name||e[5]!==t.phone?(a=s.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.name," — ",t.phone]}),e[4]=t.name,e[5]=t.phone,e[6]=a):a=e[6];let N;e[7]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx("div",{className:"text-sm text-muted-foreground",children:"Room"}),e[7]=N):N=e[7];let l;e[8]!==t.room_type?(l=s.jsxs("div",{className:"mt-3",children:[N,s.jsx("div",{className:"font-medium",children:t.room_type})]}),e[8]=t.room_type,e[9]=l):l=e[9];let b;e[10]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx("div",{className:"text-sm text-muted-foreground",children:"Dates"}),e[10]=b):b=e[10];let m;e[11]!==t.check_in?(m=D(t.check_in),e[11]=t.check_in,e[12]=m):m=e[12];let r;e[13]!==t.check_out?(r=D(t.check_out),e[13]=t.check_out,e[14]=r):r=e[14];let d;e[15]!==m||e[16]!==r?(d=s.jsxs("div",{className:"mt-3",children:[b,s.jsxs("div",{className:"font-medium",children:[m," → ",r]})]}),e[15]=m,e[16]=r,e[17]=d):d=e[17];let n;e[18]!==d||e[19]!==a||e[20]!==l?(n=s.jsxs("div",{className:"rounded-md border p-4",children:[v,a,l,d]}),e[18]=d,e[19]=a,e[20]=l,e[21]=n):n=e[21];let y;e[22]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("div",{className:"font-medium",children:"Guardian"}),e[22]=y):y=e[22];let o;e[23]!==t.guardian_name||e[24]!==t.guardian_phone?(o=s.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.guardian_name," — ",t.guardian_phone]}),e[23]=t.guardian_name,e[24]=t.guardian_phone,e[25]=o):o=e[25];let k;e[26]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("div",{className:"text-sm text-muted-foreground",children:"Study level"}),e[26]=k):k=e[26];let c;e[27]!==t.study_level?(c=s.jsxs("div",{className:"mt-3",children:[k,s.jsx("div",{className:"font-medium",children:t.study_level})]}),e[27]=t.study_level,e[28]=c):c=e[28];let u;e[29]!==o||e[30]!==c?(u=s.jsxs("div",{className:"rounded-md border p-4",children:[y,o,c]}),e[29]=o,e[30]=c,e[31]=u):u=e[31];let x;e[32]!==n||e[33]!==u?(x=s.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:[n,u]}),e[32]=n,e[33]=u,e[34]=x):x=e[34];let S;e[35]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx("div",{className:"font-medium",children:"Administration letter"}),e[35]=S):S=e[35];let h;e[36]!==t.administration_letter?(h=s.jsxs("div",{className:"rounded-md border p-4",children:[S,t.administration_letter?s.jsx("a",{href:`/storage/${t.administration_letter}`,target:"_blank",rel:"noreferrer",className:"text-sm underline",children:"View"}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"Not provided"})]}),e[36]=t.administration_letter,e[37]=h):h=e[37];let A;e[38]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx("div",{className:"font-medium",children:"Passport photo"}),e[38]=A):A=e[38];let f;e[39]!==t.admin_signature||e[40]!==t.passport_pic?(f=s.jsxs("div",{className:"rounded-md border p-4 relative",children:[A,t.passport_pic?s.jsxs("div",{className:"relative mt-2 max-h-48",children:[s.jsx("img",{src:`/storage/${t.passport_pic}`,alt:"passport",className:"max-h-48 object-contain w-full"}),t.admin_signature&&s.jsx("img",{src:`/storage/${t.admin_signature}`,alt:"signature",className:"absolute right-2 bottom-2 max-h-20 opacity-90"})]}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"Not provided"})]}),e[39]=t.admin_signature,e[40]=t.passport_pic,e[41]=f):f=e[41];let p;e[42]!==h||e[43]!==f?(p=s.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-2",children:[h,f]}),e[42]=h,e[43]=f,e[44]=p):p=e[44];let $;e[45]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx("div",{className:"font-medium",children:"Admin actions"}),e[45]=$):$=e[45];let _;e[46]!==t.admin_signature||e[47]!==t.admin_signed||e[48]!==t.id?(_=s.jsxs("div",{className:"mt-6",children:[$,t.admin_signed?s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Approved and signed"}),t.admin_signature&&s.jsx("img",{src:`/storage/${t.admin_signature}`,alt:"signature",className:"mt-2 max-h-24 object-contain"})]}):s.jsxs(F,{method:"post",action:`/bookings/${t.id}/approve`,encType:"multipart/form-data",className:"mt-3 grid gap-3 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm",children:"Admin signature (image)"}),s.jsx("input",{name:"admin_signature",type:"file",accept:"image/*",className:"mt-1 block w-full text-sm"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{type:"submit",className:"rounded-md bg-primary px-3 py-2 text-sm font-medium text-white",children:"Approve & Sign"})})]})]}),e[46]=t.admin_signature,e[47]=t.admin_signed,e[48]=t.id,e[49]=_):_=e[49];let g;e[50]!==x||e[51]!==p||e[52]!==_?(g=s.jsxs("div",{className:"p-6",children:[j,x,p,_]}),e[50]=x,e[51]=p,e[52]=_,e[53]=g):g=e[53];let w;return e[54]!==i||e[55]!==g?(w=s.jsxs(P,{breadcrumbs:G,children:[i,g]}),e[54]=i,e[55]=g,e[56]=w):w=e[56],w}function L(e){return e?String(e).split("T")[0].split(" ")[0]:""}export{M as default};
